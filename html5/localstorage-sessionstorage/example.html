
<!DOCTYPE html>
<html lang="de">
<head>

	<title>localStorage and sessionStorage</title>

	<script src="http://maps.google.com/maps/api/js?sensor=true&amp;key=ABQIAAAApI58w98iPWfY3kRwSUeY8xQ68YkQG_qXsZ3UoXoMI3aQuc_oDxRhXW-0yaqFDptD-MysiRffOXJ_vg" type="text/javascript"></script>
	<script src="http://code.google.com/apis/gears/gears_init.js" type="text/javascript"></script>
	<script src="http://better-geolocation-api.googlecode.com/files/geolocation.js" type="text/javascript"></script>

	<link href="[[url]]/css/geolocation.css" rel="stylesheet" type="text/css" />

</head>

<body>

<section id="content">

	<h2>localStorage + sessionStorage</h2>

	<p>Local key/value store. Can also store JSON objects.</p>

	<script>
	function getTime() {
		date = new Date();
		return date.getFullYear() +'-'+ (date.getMonth()+1) +'-'+ + date.getDate() + ', ' + date.getHours() + ':' + date.getMinutes() +':' + date.getSeconds();
	}

	$(function() {

		$('#localStorage').bind('keyup', function() {
			localStorage.setItem('storageDemo', $(this).val());
			localStorage.setItem('time', getTime());
		});

		$('#sessionStorage').bind('keyup', function() {
			sessionStorage.setItem('storageDemo', $(this).val());
			sessionStorage.setItem('time', getTime());
		});

		$('#clear').bind('click', function() {
			localStorage.clear();
			sessionStorage.clear();
		});

		var lS = localStorage.getItem('storageDemo');
		var sS = sessionStorage.getItem('storageDemo');

		if(lS) {
			$('#lScontent span').text(lS);
			$('#lScontent em').text('(saved on: ' + localStorage.getItem('time')+')');
		}

		if(sS) {
			$('#sScontent span').text(sS);
			$('#sScontent em').text('(saved on: ' + sessionStorage.getItem('time')+')');
		}

	});
	</script>

	<section class="col50">

		<p>Type something and refresh the page.</p>
		<p>
			<label for="localStorage">localStorage content:<label><br />
			<input type="text" id="localStorage" maxlength="100" />
		</p>

		<p>
			<label for="sessionStorage">sessionStorage content:</label><br />
			<input type="text" id="sessionStorage" maxlength="100" />
		</p>

	</section>

	<section class="col50">

		<p id="lScontent"><strong>localStorage content:</strong> <span><i>empty</i></span> <em></em></p>
		<p id="sScontent"><strong>sessionStorage content:</strong> <span><i>empty</i></span> <em></em></p>
		<p>
			<button id="clear">Clear storage</button>
		</p>

	</section>


</section>


</body>
</html>